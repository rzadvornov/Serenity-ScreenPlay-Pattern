{"name":"Verify search endpoint for not allowed methods","id":"search-for-the-product;verify-search-endpoint-for-not-allowed-methods","scenarioId":"search/search_product:Verify search endpoint for not allowed methods","methodName":"Verify search endpoint for not allowed methods","testSteps":[{"number":1,"description":"1: Verify search endpoint for not allowed methods ({item\u003dapple, method\u003dPOST, status code\u003d405, error message\u003dMethod Not Allowed})","duration":597,"startTime":"2025-11-24T13:22:07.041313670Z[GMT]","precondition":false,"level":0,"lineNumber":34,"children":[{"number":2,"description":"Given \u0027Elizabeth\u0027 wants to buy an item","duration":2,"startTime":"2025-11-24T13:22:07.041605784Z[GMT]","result":"SUCCESS","precondition":false,"level":1},{"number":3,"description":"When she performs search for an \u0027apple\u0027 using http \u0027POST\u0027","duration":590,"startTime":"2025-11-24T13:22:07.043787031Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":4,"description":"Elizabeth the api user executes a POST on the resource api/v1/search/demo/{keyword}","duration":574,"startTime":"2025-11-24T13:22:07.059402702Z[GMT]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":5,"description":"POST https://waarkoop-server.herokuapp.com/api/v1/search/demo/apple","duration":0,"startTime":"2025-11-24T13:22:07.633950458Z[GMT]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://waarkoop-server.herokuapp.com/api/v1/search/demo/apple","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Cache-Control: no-cache, no-store\nContent-Type: text/html; charset\u003dutf-8\nNel: {\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}\nReport-To: {\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s\u003d2L%2B95KjfrRlMih1K0nW4CfHHlQP9oaeLBf5ezNzbh%2FA%3D\\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\\u0026ts\u003d1763990527\"}],\"max_age\":3600}\nReporting-Endpoints: heroku-nel\u003d\"https://nel.heroku.com/reports?s\u003d2L%2B95KjfrRlMih1K0nW4CfHHlQP9oaeLBf5ezNzbh%2FA%3D\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\u0026ts\u003d1763990527\"\nServer: Heroku\nVia: 1.1 heroku-router\nDate: Mon, 24 Nov 2025 13:22:07 GMT\nContent-Length: 567","responseCookies":"","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"/\u003e\n    \u003cmeta charset\u003d\"utf-8\"/\u003e\n    \u003ctitle\u003eApplication Error\u003c/title\u003e\n    \u003cstyle media\u003d\"screen\"\u003e\n      html,body,iframe {\n        margin: 0;\n        padding: 0;\n      }\n\n      html,body {\n        height: 100%;\n        overflow: hidden;\n      }\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ciframe frameborder\u003d\"1\" scrolling\u003d\"auto\" src\u003d\"https://www.herokucdn.com/error-pages/application-error.html\"/\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":503},"precondition":false,"level":3}]}]},{"number":6,"description":"Then she doesn\u0027t see the results","duration":4,"startTime":"2025-11-24T13:22:07.634798385Z[GMT]","result":"ERROR","precondition":false,"level":1,"lineNumber":34,"children":[{"number":7,"description":"Elizabeth the api user should see a value that is equal to: \u003c\"keep-alive\"\u003e","duration":1,"startTime":"2025-11-24T13:22:07.636573627Z[GMT]","exception":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"result":"ERROR","precondition":false,"level":2}]},{"number":8,"description":"And \u0027405\u0027 and \u0027Method Not Allowed\u0027 are shown for an \u0027apple\u0027","duration":0,"startTime":"2025-11-24T13:22:07.638507684Z[GMT]","result":"SKIPPED","precondition":false,"level":1}]},{"number":9,"description":"2: Verify search endpoint for not allowed methods ({item\u003dorange, method\u003dPUT, status code\u003d405, error message\u003dMethod Not Allowed})","duration":616,"startTime":"2025-11-24T13:22:07.647588102Z[GMT]","precondition":false,"level":0,"lineNumber":35,"children":[{"number":10,"description":"Given \u0027Elizabeth\u0027 wants to buy an item","duration":2,"startTime":"2025-11-24T13:22:07.647815173Z[GMT]","result":"SUCCESS","precondition":false,"level":1},{"number":11,"description":"When she performs search for an \u0027orange\u0027 using http \u0027PUT\u0027","duration":609,"startTime":"2025-11-24T13:22:07.650015878Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":12,"description":"Elizabeth the api user executes a PUT on the resource api/v1/search/demo/{keyword}","duration":596,"startTime":"2025-11-24T13:22:07.662539609Z[GMT]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":13,"description":"PUT https://waarkoop-server.herokuapp.com/api/v1/search/demo/orange","duration":0,"startTime":"2025-11-24T13:22:08.258921246Z[GMT]","result":"SUCCESS","restQuery":{"method":"PUT","path":"https://waarkoop-server.herokuapp.com/api/v1/search/demo/orange","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Cache-Control: no-cache, no-store\nContent-Type: text/html; charset\u003dutf-8\nNel: {\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}\nReport-To: {\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s\u003d%2BmXYWyMdUYUhx9OCWMHRD9XWMDBF3QtAGUvAyN4SBc8%3D\\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\\u0026ts\u003d1763990528\"}],\"max_age\":3600}\nReporting-Endpoints: heroku-nel\u003d\"https://nel.heroku.com/reports?s\u003d%2BmXYWyMdUYUhx9OCWMHRD9XWMDBF3QtAGUvAyN4SBc8%3D\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\u0026ts\u003d1763990528\"\nServer: Heroku\nVia: 1.1 heroku-router\nDate: Mon, 24 Nov 2025 13:22:08 GMT\nContent-Length: 567","responseCookies":"","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"/\u003e\n    \u003cmeta charset\u003d\"utf-8\"/\u003e\n    \u003ctitle\u003eApplication Error\u003c/title\u003e\n    \u003cstyle media\u003d\"screen\"\u003e\n      html,body,iframe {\n        margin: 0;\n        padding: 0;\n      }\n\n      html,body {\n        height: 100%;\n        overflow: hidden;\n      }\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ciframe frameborder\u003d\"1\" scrolling\u003d\"auto\" src\u003d\"https://www.herokucdn.com/error-pages/application-error.html\"/\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":503},"precondition":false,"level":3}]}]},{"number":14,"description":"Then she doesn\u0027t see the results","duration":4,"startTime":"2025-11-24T13:22:08.259746854Z[GMT]","result":"ERROR","precondition":false,"level":1,"lineNumber":35,"children":[{"number":15,"description":"Elizabeth the api user should see a value that is equal to: \u003c\"keep-alive\"\u003e","duration":1,"startTime":"2025-11-24T13:22:08.261375552Z[GMT]","exception":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"result":"ERROR","precondition":false,"level":2}]},{"number":16,"description":"And \u0027405\u0027 and \u0027Method Not Allowed\u0027 are shown for an \u0027orange\u0027","duration":0,"startTime":"2025-11-24T13:22:08.263432640Z[GMT]","result":"SKIPPED","precondition":false,"level":1}]},{"number":17,"description":"3: Verify search endpoint for not allowed methods ({item\u003dpasta, method\u003dDELETE, status code\u003d405, error message\u003dMethod Not Allowed})","duration":597,"startTime":"2025-11-24T13:22:08.265964657Z[GMT]","precondition":false,"level":0,"lineNumber":36,"children":[{"number":18,"description":"Given \u0027Elizabeth\u0027 wants to buy an item","duration":1,"startTime":"2025-11-24T13:22:08.266279091Z[GMT]","result":"SUCCESS","precondition":false,"level":1},{"number":19,"description":"When she performs search for an \u0027pasta\u0027 using http \u0027DELETE\u0027","duration":588,"startTime":"2025-11-24T13:22:08.268369134Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":20,"description":"Elizabeth the api user executes a DELETE on the resource api/v1/search/demo/{keyword}","duration":577,"startTime":"2025-11-24T13:22:08.278739418Z[GMT]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":21,"description":"DELETE https://waarkoop-server.herokuapp.com/api/v1/search/demo/pasta","duration":0,"startTime":"2025-11-24T13:22:08.855829732Z[GMT]","result":"SUCCESS","restQuery":{"method":"DELETE","path":"https://waarkoop-server.herokuapp.com/api/v1/search/demo/pasta","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Cache-Control: no-cache, no-store\nContent-Type: text/html; charset\u003dutf-8\nNel: {\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}\nReport-To: {\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s\u003d%2BmXYWyMdUYUhx9OCWMHRD9XWMDBF3QtAGUvAyN4SBc8%3D\\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\\u0026ts\u003d1763990528\"}],\"max_age\":3600}\nReporting-Endpoints: heroku-nel\u003d\"https://nel.heroku.com/reports?s\u003d%2BmXYWyMdUYUhx9OCWMHRD9XWMDBF3QtAGUvAyN4SBc8%3D\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\u0026ts\u003d1763990528\"\nServer: Heroku\nVia: 1.1 heroku-router\nDate: Mon, 24 Nov 2025 13:22:08 GMT\nContent-Length: 567","responseCookies":"","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"/\u003e\n    \u003cmeta charset\u003d\"utf-8\"/\u003e\n    \u003ctitle\u003eApplication Error\u003c/title\u003e\n    \u003cstyle media\u003d\"screen\"\u003e\n      html,body,iframe {\n        margin: 0;\n        padding: 0;\n      }\n\n      html,body {\n        height: 100%;\n        overflow: hidden;\n      }\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ciframe frameborder\u003d\"1\" scrolling\u003d\"auto\" src\u003d\"https://www.herokucdn.com/error-pages/application-error.html\"/\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":503},"precondition":false,"level":3}]}]},{"number":22,"description":"Then she doesn\u0027t see the results","duration":6,"startTime":"2025-11-24T13:22:08.856743353Z[GMT]","result":"ERROR","precondition":false,"level":1,"lineNumber":36,"children":[{"number":23,"description":"Elizabeth the api user should see a value that is equal to: \u003c\"keep-alive\"\u003e","duration":2,"startTime":"2025-11-24T13:22:08.858866230Z[GMT]","exception":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"result":"ERROR","precondition":false,"level":2}]},{"number":24,"description":"And \u0027405\u0027 and \u0027Method Not Allowed\u0027 are shown for an \u0027pasta\u0027","duration":0,"startTime":"2025-11-24T13:22:08.862019811Z[GMT]","result":"SKIPPED","precondition":false,"level":1}]},{"number":25,"description":"4: Verify search endpoint for not allowed methods ({item\u003dcola, method\u003dPATCH, status code\u003d405, error message\u003dMethod Not Allowed})","duration":583,"startTime":"2025-11-24T13:22:08.865335138Z[GMT]","precondition":false,"level":0,"lineNumber":37,"children":[{"number":26,"description":"Given \u0027Elizabeth\u0027 wants to buy an item","duration":1,"startTime":"2025-11-24T13:22:08.865577192Z[GMT]","result":"SUCCESS","precondition":false,"level":1},{"number":27,"description":"When she performs search for an \u0027cola\u0027 using http \u0027PATCH\u0027","duration":575,"startTime":"2025-11-24T13:22:08.867643480Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":28,"description":"Elizabeth the api user executes a PATCH on the resource api/v1/search/demo/{keyword}","duration":563,"startTime":"2025-11-24T13:22:08.878991791Z[GMT]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":29,"description":"PATCH https://waarkoop-server.herokuapp.com/api/v1/search/demo/cola","duration":0,"startTime":"2025-11-24T13:22:09.442002420Z[GMT]","result":"SUCCESS","restQuery":{"method":"PATCH","path":"https://waarkoop-server.herokuapp.com/api/v1/search/demo/cola","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Cache-Control: no-cache, no-store\nContent-Type: text/html; charset\u003dutf-8\nNel: {\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}\nReport-To: {\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s\u003dexY2ibBTcucBB1VtKsv%2Fh%2F51IoVFkrHDh2wTfPvPXY0%3D\\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\\u0026ts\u003d1763990529\"}],\"max_age\":3600}\nReporting-Endpoints: heroku-nel\u003d\"https://nel.heroku.com/reports?s\u003dexY2ibBTcucBB1VtKsv%2Fh%2F51IoVFkrHDh2wTfPvPXY0%3D\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\u0026ts\u003d1763990529\"\nServer: Heroku\nVia: 1.1 heroku-router\nDate: Mon, 24 Nov 2025 13:22:09 GMT\nContent-Length: 567","responseCookies":"","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"/\u003e\n    \u003cmeta charset\u003d\"utf-8\"/\u003e\n    \u003ctitle\u003eApplication Error\u003c/title\u003e\n    \u003cstyle media\u003d\"screen\"\u003e\n      html,body,iframe {\n        margin: 0;\n        padding: 0;\n      }\n\n      html,body {\n        height: 100%;\n        overflow: hidden;\n      }\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ciframe frameborder\u003d\"1\" scrolling\u003d\"auto\" src\u003d\"https://www.herokucdn.com/error-pages/application-error.html\"/\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":503},"precondition":false,"level":3}]}]},{"number":30,"description":"Then she doesn\u0027t see the results","duration":5,"startTime":"2025-11-24T13:22:09.443163280Z[GMT]","result":"ERROR","precondition":false,"level":1,"lineNumber":37,"children":[{"number":31,"description":"Elizabeth the api user should see a value that is equal to: \u003c\"keep-alive\"\u003e","duration":2,"startTime":"2025-11-24T13:22:09.445567398Z[GMT]","exception":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"result":"ERROR","precondition":false,"level":2}]},{"number":32,"description":"And \u0027405\u0027 and \u0027Method Not Allowed\u0027 are shown for an \u0027cola\u0027","duration":0,"startTime":"2025-11-24T13:22:09.448485201Z[GMT]","result":"SKIPPED","precondition":false,"level":1}]}],"userStory":{"id":"search/search_product","storyName":"Search for the product","displayName":"Search for the product","path":"search/search_product","pathElements":[{"name":"search","description":""},{"name":"search_product","description":""}],"type":"feature"},"title":"Verify search endpoint for not allowed methods","description":"","startTime":"2025-11-24T13:22:07.041160878Z[GMT]","endTime":"2025-11-24T13:22:09.442950358Z[GMT]","duration":2,"testFailureCause":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"testFailureClassname":"java.lang.NullPointerException","testFailureMessage":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","testFailureSummary":"ERROR;java.lang.NullPointerException;Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null;SearchStepDefinitions.java","projectKey":"","isManualTestingUpToDate":false,"dataTable":{"headers":["item","method","status code","error message"],"rows":[{"values":["apple","POST","405","Method Not Allowed"],"lineNumber":34,"result":"ERROR"},{"values":["orange","PUT","405","Method Not Allowed"],"lineNumber":35,"result":"ERROR"},{"values":["pasta","DELETE","405","Method Not Allowed"],"lineNumber":36,"result":"ERROR"},{"values":["cola","PATCH","405","Method Not Allowed"],"lineNumber":37,"result":"ERROR"}],"predefinedRows":true,"scenarioOutline":"Given \u0027Elizabeth\u0027 wants to buy an item\n\rWhen she performs search for an \u0027\u003citem\u003e\u0027 using http \u0027\u003cmethod\u003e\u0027\n\rThen she doesn\u0027t see the results\n\rAnd \u0027\u003cstatus code\u003e\u0027 and \u0027\u003cerror message\u003e\u0027 are shown for an \u0027\u003citem\u003e\u0027\n\r","dataSetDescriptors":[{"startRow":0,"rowCount":0,"name":"","description":""}]},"manual":false,"testSource":"Cucumber","actors":[{"name":"Elizabeth the api user","can":["call an API at https://waarkoop-server.herokuapp.com/"]}],"order":0,"result":"ERROR","scenarioOutline":"Given \u0027Elizabeth\u0027 wants to buy an item\nWhen she performs search for an \u0027\u003citem\u003e\u0027 using http \u0027\u003cmethod\u003e\u0027\nThen she doesn\u0027t see the results\nAnd \u0027\u003cstatus code\u003e\u0027 and \u0027\u003cerror message\u003e\u0027 are shown for an \u0027\u003citem\u003e\u0027"}