{"name":"Verify search results for unavailable products","id":"search-for-the-product;verify-search-results-for-unavailable-products","scenarioId":"search/search_product:Verify search results for unavailable products","methodName":"Verify search results for unavailable products","testSteps":[{"number":1,"description":"1: Verify search results for unavailable products ({item\u003dcar, status code\u003d404, error message\u003dNot found})","duration":606,"startTime":"2025-10-16T15:03:27.850193647Z[Etc/UTC]","precondition":false,"level":0,"lineNumber":23,"children":[{"number":2,"description":"Given \u0027George\u0027 wants to buy an item","duration":3,"startTime":"2025-10-16T15:03:27.850509507Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1},{"number":3,"description":"When he performs search for an \u0027car\u0027","duration":540,"startTime":"2025-10-16T15:03:27.854650183Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":4,"description":"George the api user executes a GET on the resource api/v1/search/demo/{keyword}","duration":536,"startTime":"2025-10-16T15:03:27.857434277Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":5,"description":"GET https://waarkoop-server.herokuapp.com/api/v1/search/demo/car","duration":0,"startTime":"2025-10-16T15:03:28.393727606Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"GET","path":"https://waarkoop-server.herokuapp.com/api/v1/search/demo/car","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Cache-Control: no-cache, no-store\nContent-Type: text/html; charset\u003dutf-8\nNel: {\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}\nReport-To: {\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s\u003dM%2FVIo96eJHFcvBvWeqDItxfqVSKew%2Bt20XTM6Ela0Fc%3D\\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\\u0026ts\u003d1760627008\"}],\"max_age\":3600}\nReporting-Endpoints: heroku-nel\u003d\"https://nel.heroku.com/reports?s\u003dM%2FVIo96eJHFcvBvWeqDItxfqVSKew%2Bt20XTM6Ela0Fc%3D\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\u0026ts\u003d1760627008\"\nServer: Heroku\nVia: 1.1 heroku-router\nDate: Thu, 16 Oct 2025 15:03:28 GMT\nContent-Length: 567","responseCookies":"","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"/\u003e\n    \u003cmeta charset\u003d\"utf-8\"/\u003e\n    \u003ctitle\u003eApplication Error\u003c/title\u003e\n    \u003cstyle media\u003d\"screen\"\u003e\n      html,body,iframe {\n        margin: 0;\n        padding: 0;\n      }\n\n      html,body {\n        height: 100%;\n        overflow: hidden;\n      }\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ciframe frameborder\u003d\"1\" scrolling\u003d\"auto\" src\u003d\"https://www.herokucdn.com/error-pages/application-error.html\"/\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":503},"precondition":false,"level":3}]}]},{"number":6,"description":"Then he doesn\u0027t see the results","duration":60,"startTime":"2025-10-16T15:03:28.395389607Z[Etc/UTC]","result":"ERROR","precondition":false,"level":1,"lineNumber":23,"children":[{"number":7,"description":"George the api user should see a value that is equal to: \u003c\"keep-alive\"\u003e","duration":3,"startTime":"2025-10-16T15:03:28.450044903Z[Etc/UTC]","exception":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"result":"ERROR","precondition":false,"level":2}]},{"number":8,"description":"And \u0027404\u0027 and \u0027Not found\u0027 are shown for an \u0027car\u0027","duration":0,"startTime":"2025-10-16T15:03:28.454323516Z[Etc/UTC]","result":"SKIPPED","precondition":false,"level":1}]},{"number":9,"description":"2: Verify search results for unavailable products ({item\u003d, status code\u003d404, error message\u003dNot found})","duration":505,"startTime":"2025-10-16T15:03:28.468517989Z[Etc/UTC]","precondition":false,"level":0,"lineNumber":24,"children":[{"number":10,"description":"Given \u0027George\u0027 wants to buy an item","duration":2,"startTime":"2025-10-16T15:03:28.468877671Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1},{"number":11,"description":"When he performs search for an \u0027\u0027","duration":496,"startTime":"2025-10-16T15:03:28.471148037Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":12,"description":"George the api user executes a GET on the resource api/v1/search/demo/{keyword}","duration":493,"startTime":"2025-10-16T15:03:28.473319248Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":13,"description":"GET https://waarkoop-server.herokuapp.com/api/v1/search/demo/","duration":0,"startTime":"2025-10-16T15:03:28.966874588Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"GET","path":"https://waarkoop-server.herokuapp.com/api/v1/search/demo/","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Cache-Control: no-cache, no-store\nContent-Type: text/html; charset\u003dutf-8\nNel: {\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}\nReport-To: {\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s\u003dM%2FVIo96eJHFcvBvWeqDItxfqVSKew%2Bt20XTM6Ela0Fc%3D\\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\\u0026ts\u003d1760627008\"}],\"max_age\":3600}\nReporting-Endpoints: heroku-nel\u003d\"https://nel.heroku.com/reports?s\u003dM%2FVIo96eJHFcvBvWeqDItxfqVSKew%2Bt20XTM6Ela0Fc%3D\u0026sid\u003d812dcc77-0bd0-43b1-a5f1-b25750382959\u0026ts\u003d1760627008\"\nServer: Heroku\nVia: 1.1 heroku-router\nDate: Thu, 16 Oct 2025 15:03:28 GMT\nContent-Length: 567","responseCookies":"","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"/\u003e\n    \u003cmeta charset\u003d\"utf-8\"/\u003e\n    \u003ctitle\u003eApplication Error\u003c/title\u003e\n    \u003cstyle media\u003d\"screen\"\u003e\n      html,body,iframe {\n        margin: 0;\n        padding: 0;\n      }\n\n      html,body {\n        height: 100%;\n        overflow: hidden;\n      }\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ciframe frameborder\u003d\"1\" scrolling\u003d\"auto\" src\u003d\"https://www.herokucdn.com/error-pages/application-error.html\"/\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":503},"precondition":false,"level":3}]}]},{"number":14,"description":"Then he doesn\u0027t see the results","duration":6,"startTime":"2025-10-16T15:03:28.968057505Z[Etc/UTC]","result":"ERROR","precondition":false,"level":1,"lineNumber":24,"children":[{"number":15,"description":"George the api user should see a value that is equal to: \u003c\"keep-alive\"\u003e","duration":1,"startTime":"2025-10-16T15:03:28.970175827Z[Etc/UTC]","exception":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"result":"ERROR","precondition":false,"level":2}]},{"number":16,"description":"And \u0027404\u0027 and \u0027Not found\u0027 are shown for an \u0027\u0027","duration":0,"startTime":"2025-10-16T15:03:28.973114210Z[Etc/UTC]","result":"SKIPPED","precondition":false,"level":1}]}],"userStory":{"id":"search/search_product","storyName":"Search for the product","displayName":"Search for the product","path":"search/search_product","pathElements":[{"name":"search","description":""},{"name":"search_product","description":""}],"type":"feature"},"title":"Verify search results for unavailable products","description":"","startTime":"2025-10-16T15:03:27.849981822Z[Etc/UTC]","endTime":"2025-10-16T15:03:28.967770038Z[Etc/UTC]","duration":4,"testFailureCause":{"errorType":"java.lang.NullPointerException","message":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","stackTrace":[{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"checkHeaders","fileName":"SearchStepDefinitions.java","lineNumber":103},{"declaringClass":"com.rzadvornov.serenity.steps.SearchStepDefinitions","methodName":"actorGetsEmptyResults","fileName":"SearchStepDefinitions.java","lineNumber":71}]},"testFailureClassname":"java.lang.NullPointerException","testFailureMessage":"Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null","testFailureSummary":"ERROR;java.lang.NullPointerException;Cannot invoke \"java.lang.Comparable.compareTo(Object)\" because \"c1\" is null;SearchStepDefinitions.java","projectKey":"","isManualTestingUpToDate":false,"dataTable":{"headers":["item","status code","error message"],"rows":[{"values":["car","404","Not found"],"lineNumber":23,"result":"ERROR"},{"values":["","404","Not found"],"lineNumber":24,"result":"ERROR"}],"predefinedRows":true,"scenarioOutline":"Given \u0027George\u0027 wants to buy an item\n\rWhen he performs search for an \u0027\u003citem\u003e\u0027\n\rThen he doesn\u0027t see the results\n\rAnd \u0027\u003cstatus code\u003e\u0027 and \u0027\u003cerror message\u003e\u0027 are shown for an \u0027\u003citem\u003e\u0027\n\r","dataSetDescriptors":[{"startRow":0,"rowCount":0,"name":"","description":""}]},"manual":false,"testSource":"Cucumber","actors":[{"name":"George the api user","can":["call an API at https://waarkoop-server.herokuapp.com/"]}],"order":0,"result":"ERROR","scenarioOutline":"Given \u0027George\u0027 wants to buy an item\nWhen he performs search for an \u0027\u003citem\u003e\u0027\nThen he doesn\u0027t see the results\nAnd \u0027\u003cstatus code\u003e\u0027 and \u0027\u003cerror message\u003e\u0027 are shown for an \u0027\u003citem\u003e\u0027"}